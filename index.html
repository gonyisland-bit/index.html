<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Coffee Game</title>
    <link href="https://fonts.googleapis.com/css2?family=Special+Elite&display=swap" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.5.1/dist/confetti.browser.min.js"></script>
    <style>
        :root {
            --bg-color: #f4ece1;
            --primary-color: #4e342e;
            --accent-color: #d84315;
        }

        body {
            margin: 0;
            padding: 0;
            font-family: 'Special Elite', system-ui, sans-serif;
            background-color: var(--bg-color);
            color: var(--primary-color);
            overflow: hidden;
            display: flex;
            flex-direction: column;
            align-items: center;
            height: 100vh;
        }

        /* ë©”ì¸ í˜ì´ì§€ */
        #start-screen, #game-screen {
            width: 100%;
            height: 100%;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            text-align: center;
        }

        h1 {
            font-size: 3.5rem;
            margin-bottom: 20px;
            text-transform: uppercase;
            letter-spacing: -2px;
        }

        .option-group {
            margin: 20px 0;
            font-size: 1.2rem;
        }

        select {
            padding: 10px 20px;
            font-size: 1.2rem;
            border-radius: 10px;
            border: 2px solid var(--primary-color);
            background: white;
            font-family: inherit;
        }

        .btn-start {
            margin-top: 30px;
            padding: 15px 60px;
            font-size: 1.5rem;
            background-color: var(--primary-color);
            color: white;
            border: none;
            border-radius: 50px;
            box-shadow: 0 4px 10px rgba(0,0,0,0.2);
            cursor: pointer;
            font-family: inherit;
        }

        .footer {
            position: absolute;
            bottom: 20px;
            font-size: 0.8rem;
            opacity: 0.7;
        }

        /* ê²Œì„ í™”ë©´ */
        #game-screen.hidden { display: none; }
        
        .hand-container {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 20px;
            padding: 20px;
            width: 100%;
            box-sizing: border-box;
        }

        .hand-wrapper {
            display: flex;
            flex-direction: column;
            align-items: center;
            cursor: pointer;
        }

        .hand {
            width: 80px;
            height: 80px;
            background-size: contain;
            background-repeat: no-repeat;
            background-position: center;
            transition: transform 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            /* ì£¼ë¨¹ ì¥” ì† ì´ë¯¸ì§€ (ì´ëª¨ì§€ë¡œ ëŒ€ì²´ ê°€ëŠ¥í•˜ë‚˜ ìš”ì²­ëŒ€ë¡œ ê·¸ë˜í”½ ëŠë‚Œ êµ¬í˜„) */
            font-size: 50px;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .hand.open {
            transform: scale(1.2) rotate(-10deg);
        }

        .item-label {
            margin-top: 10px;
            font-weight: bold;
            height: 24px;
            color: var(--accent-color);
        }

        .coffee-count {
            margin-top: 40px;
            display: flex;
            gap: 10px;
            font-size: 2rem;
        }

        #reset-btn {
            margin-top: 20px;
            padding: 10px 20px;
            border: 1px solid var(--primary-color);
            background: none;
            border-radius: 5px;
            font-family: inherit;
        }
    </style>
</head>
<body>

    <div id="start-screen">
        <h1>Coffee<br>Game</h1>
        <div class="option-group">
            <label for="member-select">MEMBER: </label>
            <select id="member-select">
                <option value="2">2</option>
                <option value="3" selected>3</option>
                <option value="4">4</option>
                <option value="5">5</option>
                <option value="6">6</option>
                <option value="7">7</option>
                <option value="8">8</option>
                <option value="9">9</option>
                <option value="10">10</option>
            </select>
        </div>
        <button class="btn-start" onclick="startGame()">START</button>
        <div class="footer">designed by gony</div>
    </div>

    <div id="game-screen" class="hidden">
        <div id="hand-display" class="hand-container"></div>
        <div id="coffee-list" class="coffee-count"></div>
        <button id="reset-btn" onclick="location.reload()">ë‹¤ì‹œ í•˜ê¸°</button>
    </div>

    <script>
        const items = ['ğŸ’°', 'ğŸ', 'ğŸ±', 'ğŸ’', 'ğŸ¦', 'ğŸ', 'â­', 'ğŸ€', 'ğŸ•'];
        let isGameOver = false;

        function startGame() {
            const memberCount = document.getElementById('member-select').value;
            document.getElementById('start-screen').classList.add('hidden');
            document.getElementById('game-screen').classList.remove('hidden');

            const handDisplay = document.getElementById('hand-display');
            const winnerIndex = Math.floor(Math.random() * memberCount);

            // ê·¸ë¦¬ë“œ ë ˆì´ì•„ì›ƒ ì¡°ì • (ì¸ì›ì´ ë§ìœ¼ë©´ 3ì—´ë¡œ)
            if(memberCount > 6) handDisplay.style.gridTemplateColumns = "repeat(3, 1fr)";

            for (let i = 0; i < memberCount; i++) {
                const wrapper = document.createElement('div');
                wrapper.className = 'hand-wrapper';
                
                const hand = document.createElement('div');
                hand.className = 'hand';
                hand.innerHTML = 'âœŠ'; // ì¥ê³  ìˆëŠ” ì†
                
                const label = document.createElement('div');
                label.className = 'item-label';

                wrapper.onclick = () => revealHand(hand, label, i === winnerIndex, memberCount);
                
                wrapper.appendChild(hand);
                wrapper.appendChild(label);
                handDisplay.appendChild(wrapper);
            }
        }

        function revealHand(handElement, labelElement, isWinner, total) {
            if (isGameOver || handElement.classList.contains('open')) return;

            handElement.classList.add('open');
            
            if (isWinner) {
                isGameOver = true;
                handElement.innerHTML = 'â˜•'; // ì»¤í”¼ ë“±ì¥
                labelElement.innerText = 'ë‹¹ì²¨!!!';
                
                // í­ì£½ ì• ë‹ˆë©”ì´ì…˜
                confetti({
                    particleCount: 150,
                    spread: 70,
                    origin: { y: 0.6 }
                });

                // í•˜ë‹¨ì— ì¸ì›ìˆ˜ë§Œí¼ ì»¤í”¼ í‘œì‹œ
                const coffeeList = document.getElementById('coffee-list');
                for(let i=0; i<total; i++) {
                    const cf = document.createElement('span');
                    cf.innerText = 'â˜•';
                    coffeeList.appendChild(cf);
                }
            } else {
                // ê½ì¸ ê²½ìš° ëœë¤ ì•„ì´í…œ ë“±ì¥
                const randomItem = items[Math.floor(Math.random() * items.length)];
                handElement.innerHTML = 'ğŸ–ï¸'; // í´ì§„ ì†
                setTimeout(() => {
                    handElement.innerHTML = randomItem;
                }, 100);
                labelElement.innerText = 'í†µê³¼';
            }
        }
    </script>
</body>
</html>